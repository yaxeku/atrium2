{"version":3,"file":"_server.ts-BBYhXqvp.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/targets/_targetid_/_server.ts.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { p as pool } from \"../../../../../chunks/config.js\";\nasync function GET({ params }) {\n  const { targetid } = params;\n  try {\n    console.log(targetid);\n    const result = await pool.query(\n      \"SELECT targetid, page, captureddata FROM captureddata WHERE targetid = $1\",\n      [targetid]\n    );\n    const capturedLogs = result.rows.map((row) => ({\n      targetid: row.targetid,\n      page: row.page,\n      captureddata: row.captureddata\n    }));\n    return json(capturedLogs);\n  } catch (err) {\n    console.error(\"Database query error:\", err);\n    return json({ error: \"Failed to fetch captured data\" }, { status: 500 });\n  }\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;;AAEA,eAAe,GAAG,CAAC,EAAE,MAAM,EAAE,EAAE;AAC/B,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM;AAC7B,EAAE,IAAI;AACN,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;AACzB,IAAI,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,KAAK;AACnC,MAAM,2EAA2E;AACjF,MAAM,CAAC,QAAQ;AACf,KAAK;AACL,IAAI,MAAM,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM;AACnD,MAAM,QAAQ,EAAE,GAAG,CAAC,QAAQ;AAC5B,MAAM,IAAI,EAAE,GAAG,CAAC,IAAI;AACpB,MAAM,YAAY,EAAE,GAAG,CAAC;AACxB,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,IAAI,CAAC,YAAY,CAAC;AAC7B,EAAE,CAAC,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,GAAG,CAAC;AAC/C,IAAI,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,+BAA+B,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AAC5E,EAAE;AACF;;;;"}